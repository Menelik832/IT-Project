def display_tasks(tasks):
    print("\n" + "="*40)
    print("           TO-DO LIST")
    print("="*40)
    
    if not tasks:
        print("   No tasks in your list. Add some!")
    else:
        for i, task in enumerate(tasks, 1):
            status = "âœ“" if task["completed"] else " "
            print(f"{i}. [{status}] {task['name']}")
    print("="*40)

def add_task(tasks):
    print("\n--- Add New Task ---")
    task_name = input("Enter the task: ").strip()
    
    if task_name:
        tasks.append({"name": task_name, "completed": False})
        print(f"Task '{task_name}' added successfully!")
    else:
        print("Task cannot be empty!")

def remove_task(tasks):
    if not tasks:
        print("\nNo tasks to remove!")
        return
    
    display_tasks(tasks)
    
    try:
        task_num = int(input("\nEnter task number to remove: "))
        if 1 <= task_num <= len(tasks):
            removed_task = tasks.pop(task_num - 1)
            print(f"Task '{removed_task['name']}' removed successfully!")
        else:
            print("Invalid task number!")
    except ValueError:
        print("Please enter a valid number!")

def edit_task(tasks):
    if not tasks:
        print("\nNo tasks to edit!")
        return
    
    display_tasks(tasks)
    
    try:
        task_num = int(input("\nEnter task number to edit: "))
        if 1 <= task_num <= len(tasks):
            new_name = input("Enter new task name: ").strip()
            if new_name:
                old_name = tasks[task_num - 1]["name"]
                tasks[task_num - 1]["name"] = new_name
                print(f"Task changed from '{old_name}' to '{new_name}'!")
            else:
                print("Task name cannot be empty!")
        else:
            print("Invalid task number!")
    except ValueError:
        print("Please enter a valid number!")

def mark_completed(tasks):
    if not tasks:
        print("\nNo tasks to mark as completed!")
        return
    
    display_tasks(tasks)
    
    try:
        task_num = int(input("\nEnter task number to mark as completed: "))
        if 1 <= task_num <= len(tasks):
            if not tasks[task_num - 1]["completed"]:
                tasks[task_num - 1]["completed"] = True
                print(f"Task '{tasks[task_num - 1]['name']}' marked as completed!")
            else:
                print("This task is already completed!")
        else:
            print("Invalid task number!")
    except ValueError:
        print("Please enter a valid number!")

def display_menu():
    print("\n" + "="*40)
    print("           MAIN MENU")
    print("="*40)
    print("1. Add New Task")
    print("2. Remove Task")
    print("3. Edit Task")
    print("4. Mark Task as Completed")
    print("5. Exit")
    print("="*40)

def main():
    tasks = []
    
    print("Welcome to your To-Do List Manager!")
    print("Let's get organized!")
    
    while True:
        display_tasks(tasks)
        display_menu()
        
        try:
            choice = input("\nEnter your choice (1-5): ").strip()
            
            if choice == "1":
                add_task(tasks)
            elif choice == "2":
                remove_task(tasks)
            elif choice == "3":
                edit_task(tasks)
            elif choice == "4":
                mark_completed(tasks)
            elif choice == "5":
                print("\n" + "="*40)
                print("Thank you for using To-Do List!")
                print("Have a productive day!")
                print("="*40)
                break
            else:
                print("\nPlease enter a number between 1-5!")
                
            input("\nPress Enter to continue...")
            
        except KeyboardInterrupt:
            print("\n\nProgram interrupted. Goodbye!")
            break
        except Exception as e:
            print(f"\nAn error occurred: {e}")

if __name__ == "__main__":
    main()
